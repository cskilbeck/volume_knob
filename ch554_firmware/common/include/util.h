#pragma once

//////////////////////////////////////////////////////////////////////

#define MIN(x, y) ((x) < (y) ? (x) : (y))

#define U16(x) (*(uint16 *)(&(x)))

#define ARRAY_COUNT(x) (sizeof(x) / sizeof((x)[0]))

//////////////////////////////////////////////////////////////////////

#define NOP_MACRO \
    do {          \
    } while(false)

//////////////////////////////////////////////////////////////////////

const __at(ROM_CHIP_ID_LO) __code uint32 chip_id;

//////////////////////////////////////////////////////////////////////

void goto_bootloader();

//////////////////////////////////////////////////////////////////////

void write_flash_data(uint8 flash_addr, uint8 len, uint8 *src_data);
void read_flash_data(uint8 flash_addr, uint8 len, uint8 *dst_data);

//////////////////////////////////////////////////////////////////////

void hard_fault();
